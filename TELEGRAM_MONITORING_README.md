# üì± Telegram Channel Monitoring - Quick Start Guide

## üéØ –û–≥–ª—è–¥

–í–∏ –º–æ–∂–µ—Ç–µ –º–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ **–ø—É–±–ª—ñ—á–Ω—ñ** Telegram –∫–∞–Ω–∞–ª–∏ –¥–≤–æ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏:

### ‚úÖ –í–∞—Ä—ñ–∞–Ω—Ç 1: –†—É—á–Ω–∞ –ü–µ—Ä–µ—Å–∏–ª–∫–∞ (–ü—Ä–∞—Ü—é—î –ó–ê–†–ê–ó)
**–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ —Ä—ñ—à–µ–Ω–Ω—è** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —ñ—Å–Ω—É—é—á–∏–π Telegram –±–æ—Ç.

### ‚úÖ –í–∞—Ä—ñ–∞–Ω—Ç 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ (–ü–æ—Ç—Ä–µ–±—É—î –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)
**–ü–æ–≤–Ω—ñ—Å—Ç—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Telegram Client API.

---

## üöÄ –í–∞—Ä—ñ–∞–Ω—Ç 1: –†—É—á–Ω–∞ –ü–µ—Ä–µ—Å–∏–ª–∫–∞

### –Ø–∫ –ø—Ä–∞—Ü—é—î:
```
–í–∏ –±–∞—á–∏—Ç–µ –ø–æ—Å—Ç –≤ –∫–∞–Ω–∞–ª—ñ ‚Üí Forward –±–æ—Ç—É ‚Üí –ë–æ—Ç –æ–±—Ä–æ–±–ª—è—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
```

### –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ –∫–∞–Ω–∞–ª** (–Ω–∞–ø—Ä. @geekneural) —É Telegram
2. **–í–∏–±–µ—Ä—ñ—Ç—å –ø–æ—Å—Ç** —è–∫–∏–π —Ö–æ—á–µ—Ç–µ –æ–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏
3. **–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å Forward** ‚Üí –∑–Ω–∞–π–¥—ñ—Ç—å –≤–∞—à–æ–≥–æ –±–æ—Ç–∞
4. **–ì–æ—Ç–æ–≤–æ!** –ë–æ—Ç –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç—å: `‚úÖ Forwarded message sent for processing!`

### –ü–µ—Ä–µ–≤–∞–≥–∏:
- ‚úÖ –ü—Ä–∞—Ü—é—î –ó–ê–†–ê–ó (–Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ deployment)
- ‚úÖ –ü—Ä–∞—Ü—é—î –¥–ª—è –ë–£–î–¨-–Ø–ö–ò–• –∫–∞–Ω–∞–ª—ñ–≤
- ‚úÖ –í–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é—î—Ç–µ —è–∫—ñ –ø–æ—Å—Ç–∏ –ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏
- ‚úÖ –ù–µ–º–∞—î rate limits

### –ù–µ–¥–æ–ª—ñ–∫–∏:
- ‚ùå –ü–æ—Ç—Ä—ñ–±–Ω–∞ –≤–∞—à–∞ –¥—ñ—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–æ—Å—Ç–∞

---

## ü§ñ –í–∞—Ä—ñ–∞–Ω—Ç 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –©–æ —Ü–µ –¥–∞—î:
- ‚úÖ –ü–æ–≤–Ω—ñ—Å—Ç—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- ‚úÖ –ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç—å –ø—É–±–ª—ñ—á–Ω—ñ –∫–∞–Ω–∞–ª–∏ –±–µ–∑ –¥–æ—Å—Ç—É–ø—É –∞–¥–º—ñ–Ω–∞
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Dashboard (–∫–Ω–æ–ø–∫–∞ "Telegram Monitor")
- ‚úÖ Cron job –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω

### –®–≤–∏–¥–∫–∏–π –°—Ç–∞—Ä—Ç (3 –∫—Ä–æ–∫–∏):

#### üìù –ö—Ä–æ–∫ 1: –û—Ç—Ä–∏–º–∞—Ç–∏ API Credentials

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ: https://my.telegram.org/auth
2. –í–≤–µ–¥—ñ—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É ‚Üí –æ—Ç—Ä–∏–º–∞–π—Ç–µ –∫–æ–¥ –≤ Telegram
3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ: https://my.telegram.org/apps
4. –°—Ç–≤–æ—Ä—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫ ‚Üí –æ—Ç—Ä–∏–º–∞—î—Ç–µ `api_id` —ñ `api_hash`

**–î–µ—Ç–∞–ª—å–Ω–æ:** `TELEGRAM_CLIENT_API_SETUP.md`

#### üîë –ö—Ä–æ–∫ 2: –ê–≤—Ç–æ—Ä—ñ–∑—É–≤–∞—Ç–∏—Å—è

```bash
# 1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
npm install telegram input

# 2. –í—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ telegram-auth.js
# –ó–∞–º—ñ–Ω–∏—Ç–∏ apiId —Ç–∞ apiHash –Ω–∞ –≤–∞—à—ñ

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∞–≤—Ç–æ—Ä—ñ–∑–∞—Ü—ñ—é
node telegram-auth.js

# 4. –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ session string
```

**–î–µ—Ç–∞–ª—å–Ω–æ:** `TELEGRAM_CLIENT_API_SETUP.md` (–ö—Ä–æ–∫ 4)

#### üöÄ –ö—Ä–æ–∫ 3: Deploy

1. **–î–æ–¥–∞—Ç–∏ Secrets –≤ Supabase:**
   - –í—ñ–¥–∫—Ä–∏—Ç–∏: https://app.supabase.com/project/uchmopqiylywnemvjttl/settings/secrets
   - –î–æ–¥–∞—Ç–∏ 3 secrets:
     - `TELEGRAM_API_ID` = –≤–∞—à api_id
     - `TELEGRAM_API_HASH` = –≤–∞—à api_hash
     - `TELEGRAM_SESSION` = session string –∑ telegram-auth.js

2. **Deploy Edge Function:**
   ```bash
   ./deploy-telegram-monitor.sh
   ```

3. **–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Cron Job** (SQL –≤ Supabase):
   ```sql
   SELECT cron.schedule(
     'telegram-monitor-job',
     '*/5 * * * *',  -- –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω
     $$
     SELECT net.http_post(
       url:='https://uchmopqiylywnemvjttl.supabase.co/functions/v1/telegram-monitor',
       headers:=jsonb_build_object(
         'Content-Type','application/json',
         'Authorization','Bearer ' || current_setting('app.settings.service_role_key')
       )
     );
     $$
   );
   ```

**–î–µ—Ç–∞–ª—å–Ω–æ:** `TELEGRAM_MONITOR_DEPLOYMENT.md`

---

## üìä –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Dashboard

### –ü—ñ—Å–ª—è Deployment:

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ Dashboard** ‚Üí Admin ‚Üí Auto Publish Settings
2. **–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Telegram Monitor"** –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É
3. **–ü–æ–±–∞—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:**
   ```
   –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ Telegram –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –û–±—Ä–æ–±–ª–µ–Ω–æ: 5 –ø–æ—Å—Ç—ñ–≤
   üì° geekneural: ‚úÖ 3 –ø–æ—Å—Ç—ñ–≤
   üì° digital_gpt4_neyroseti: ‚úÖ 2 –ø–æ—Å—Ç–∏
   ```

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –ö–∞–Ω–∞–ª—ñ–≤:

–£ Dashboard ‚Üí News Sources Manager:

```
Type: telegram
URL: https://t.me/geekneural
Active: ‚úì
Interval: 1 –≥–æ–¥–∏–Ω–∞ (3600 —Å–µ–∫)
```

---

## üîç –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –í–∞—Ä—ñ–∞–Ω—Ç—ñ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –†—É—á–Ω–∞ –ü–µ—Ä–µ—Å–∏–ª–∫–∞ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π Monitor |
|----------|-----------------|---------------------|
| **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å** | –î—É–∂–µ –ª–µ–≥–∫–æ | –ü–æ—Ç—Ä–µ–±—É—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è |
| **–ß–∞—Å** | 2 —Ö–≤–∏–ª–∏–Ω–∏ | 30 —Ö–≤–∏–ª–∏–Ω (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ) |
| **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è** | –ù—ñ | –¢–∞–∫ |
| **–î–æ—Å—Ç—É–ø –¥–æ –∫–∞–Ω–∞–ª—ñ–≤** | –ë—É–¥—å-—è–∫—ñ | –ë—É–¥—å-—è–∫—ñ –ø—É–±–ª—ñ—á–Ω—ñ |
| **Rate Limits** | –ù–µ–º–∞—î | –Ñ (Telegram API) |
| **Dashboard** | –ù—ñ | –¢–∞–∫ |
| **Cron Job** | –ù—ñ | –¢–∞–∫ |

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

### –û—Å–Ω–æ–≤–Ω—ñ –ì–∞–π–¥–∏:

1. **TELEGRAM_CLIENT_API_SETUP.md**
   - –î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –æ—Ç—Ä–∏–º–∞–Ω–Ω—è credentials
   - –ê–≤—Ç–æ—Ä—ñ–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ telegram-auth.js
   - –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ best practices

2. **TELEGRAM_MONITOR_DEPLOYMENT.md**
   - Deployment —á–µ—Ä–µ–∑ Supabase CLI
   - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Cron Job
   - Troubleshooting
   - –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

3. **HOW_TO_MONITOR_TELEGRAM_CHANNELS.md**
   - –í—Å—ñ 3 –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
   - RSS Bridge (self-hosted)
   - –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—ñ–¥—Ö–æ–¥—ñ–≤

4. **HOW_CHANNEL_MONITORING_WORKS.md**
   - –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏
   - Dashboard —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
   - –Ø–∫ –¥–æ–¥–∞–≤–∞—Ç–∏/–≤–∏–¥–∞–ª—è—Ç–∏ –∫–∞–Ω–∞–ª–∏

### –¢–µ—Ö–Ω—ñ—á–Ω–∞ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:

- **supabase/functions/telegram-monitor/index.ts** - –∫–æ–¥ Edge Function
- **telegram-auth.js** - —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ—Ä—ñ–∑–∞—Ü—ñ—ó
- **deploy-telegram-monitor.sh** - deployment —Å–∫—Ä–∏–ø—Ç

---

## üÜò –î–æ–ø–æ–º–æ–≥–∞

### –ü–æ–º–∏–ª–∫–∞: "Missing Telegram API credentials"
**–†—ñ—à–µ–Ω–Ω—è:** –î–æ–¥–∞–π—Ç–µ –≤—Å—ñ 3 secrets –≤ Supabase —ñ redeploy function

### –ü–æ–º–∏–ª–∫–∞: "Session expired"
**–†—ñ—à–µ–Ω–Ω—è:** –ó–∞–ø—É—Å—Ç—ñ—Ç—å `telegram-auth.js` –∑–∞–Ω–æ–≤–æ —ñ –æ–Ω–æ–≤—ñ—Ç—å TELEGRAM_SESSION

### –ü–æ–º–∏–ª–∫–∞: "FloodWaitError"
**–†—ñ—à–µ–Ω–Ω—è:** –ó–º–µ–Ω—à—ñ—Ç—å —á–∞—Å—Ç–æ—Ç—É cron job (–Ω–∞–ø—Ä. –∫–æ–∂–Ω—ñ 10 —Ö–≤–∏–ª–∏–Ω –∑–∞–º—ñ—Å—Ç—å 5)

### –ù–µ –∑'—è–≤–ª—è—é—Ç—å—Å—è –Ω–æ–≤—ñ –ø–æ—Å—Ç–∏
**–†—ñ—à–µ–Ω–Ω—è:**
```sql
-- Reset last_fetched_at
UPDATE news_sources
SET last_fetched_at = NOW() - INTERVAL '24 hours'
WHERE source_type = 'telegram';
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è

### –î–ª—è –ø–æ—á–∞—Ç–∫—É:
**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –í–∞—Ä—ñ–∞–Ω—Ç 1 (–†—É—á–Ω–∞ –ü–µ—Ä–µ—Å–∏–ª–∫–∞)** - –ø—Ä–∞—Ü—é—î –≤—ñ–¥—Ä–∞–∑—É –±–µ–∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å!

### –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è:
**–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –í–∞—Ä—ñ–∞–Ω—Ç 2 (–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π Monitor)** - –∑–∞–π–º–µ ~30 —Ö–≤–∏–ª–∏–Ω –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ.

---

## ‚úÖ Checklist

### –í–∞—Ä—ñ–∞–Ω—Ç 1 (–†—É—á–Ω–∞ –ü–µ—Ä–µ—Å–∏–ª–∫–∞):
- [ ] –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–Ω–∞–ª —É Telegram
- [ ] Forward –ø–æ—Å—Ç –±–æ—Ç—É
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –±–æ—Ç –≤—ñ–¥–ø–æ–≤—ñ–≤
- [ ] –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ ‚úÖ Publish –≤ –±–æ—Ç—ñ

### –í–∞—Ä—ñ–∞–Ω—Ç 2 (–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π):
- [ ] –û—Ç—Ä–∏–º–∞—Ç–∏ API credentials –∑ my.telegram.org
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç–∏ telegram-auth.js —ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ session
- [ ] –î–æ–¥–∞—Ç–∏ 3 secrets –≤ Supabase
- [ ] Deploy telegram-monitor function
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ cron job
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ Dashboard

---

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** 2025-10-27
**–í–µ—Ä—Å—ñ—è:** 1.0
**–ë–æ—Ç Token:** `8223281731:AAEUlmDSJCG1RVm2uGOSX-atnQiLEXNfXd8`
**Supabase Project:** `uchmopqiylywnemvjttl`
